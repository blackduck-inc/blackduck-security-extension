{
  "$schema": "https://raw.githubusercontent.com/Microsoft/azure-pipelines-task-lib/master/tasks.schema.json",
  "id": "edd0f606-d9e3-4294-9d0d-64f9f1aadfde",
  "name": "synopsys-security-scan",
  "friendlyName": "Synopsys Security Scan",
  "description": "Run security scans on Polaris, Black Duck and Coverity",
  "helpMarkDown": "",
  "category": "Utility",
  "author": "Synopsys",
  "version": {
    "Major": 1,
    "Minor": 0,
    "Patch": 0
  },
  "instanceNameFormat": "Synopsys Security Scan",
  "inputs": [
    {
      "name": "bridge_download_url",
      "type": "string",
      "label": "Bridge download url",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Provide URL to bridge zip file. If provided, Synopsys Bridge will be automatically downloaded and configured in the provided bridge- or default- path"
    },
    {
      "name": "azure_token",
      "type": "string",
      "label": "Azure token",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "PAT or System.AccessToken has to be passed with legitimate access when Coverity/BlackDuck PR comment is enabled"
    },
    {
      "name": "synopsys_bridge_path",
      "type": "string",
      "label": "Synopsys Bridge Path",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "A path where synopsys bridge will be configured"
    },
    {
      "name": "bridge_download_version",
      "type": "string",
      "label": "Synopsys Bridge version",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Provide bridge version. If provided, the specified version of Synopsys Bridge will be downloaded and configured"
    },
    {
      "name": "bridge_polaris_accessToken",
      "type": "string",
      "label": "Polaris Access Token",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Access token for Polaris"
    },
    {
      "name": "bridge_polaris_application_name",
      "type": "string",
      "label": "Polaris Application Name",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Application name in Polaris"
    },
    {
      "name": "bridge_polaris_project_name",
      "type": "string",
      "label": "Polaris Project Name",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Project name in Polaris"
    },
    {
      "name": "bridge_polaris_assessment_types",
      "type": "string",
      "label": "Polaris Assessment Types",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Polaris Assessment Types seperated by commas"
    },
    {
      "name": "bridge_polaris_serverUrl",
      "type": "string",
      "label": "Polaris Server Url",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "URL for Polaris Server"
    },
    {
      "name": "bridge_coverity_connect_url",
      "type": "string",
      "label": "Coverity Connect Url",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "URL for Coverity server"
    },
    {
      "name": "bridge_coverity_connect_user_name",
      "type": "string",
      "label": "Coverity Connect User Name",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Username for Coverity"
    },
    {
      "name": "bridge_coverity_connect_user_password",
      "type": "string",
      "label": "Coverity Connect User Password",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Password for Coverity"
    },
    {
      "name": "bridge_coverity_connect_project_name",
      "type": "string",
      "label": "Coverity Connect Project Name",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Project name in Coverity. Many customers prefer to set their Coverity project and stream names to match the azure repository name"
    },
    {
      "name": "bridge_coverity_connect_stream_name",
      "type": "string",
      "label": "Coverity Connect Stream Name",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Stream name in Coverity"
    },
    {
      "name": "bridge_coverity_install_directory",
      "type": "string",
      "label": "Coverity Install Directory",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Directory path to install Coverity"
    },
    {
      "name": "bridge_coverity_connect_policy_view",
      "type": "string",
      "label": "Coverity Connect Policy View",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "ID number of a saved view to apply as a \"break the build\" policy. If any defects are found within this view when applied to the project, the build will be failed with an exit code."
    },
    {
      "name": "bridge_blackduck_url",
      "type": "string",
      "label": "Blackduck URL",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "URL for Black Duck server"
    }
    ,
    {
      "name": "bridge_blackduck_token",
      "type": "string",
      "label": "Blackduck API Token",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "API token for Black Duck"
    }
    , {
      "name": "bridge_blackduck_scan_failure_severities",
      "type": "string",
      "label": "Blackduck Scan Failure Severities",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Scan failure severities of Black Duck."
    },
    {
      "name": "include_diagnostics",
      "type": "string",
      "label": "Include Diagnostics",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "All diagnostics files will be available to download when 'true' passed"
    },
    {
      "name": "blackduck_automation_fixpr",
      "type": "string",
      "label": "Blackduck Automation Fix PR",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Flag to enable automatic creation for fix pull request when Black Duck vunerabilities reported. By default fix pull request creation will be disabled, Supported values: true or false"
    },
    {
      "name": "bridge_coverity_automation_prcomment",
      "type": "string",
      "label": "Coverity Automation PR Comment",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "To enable feedback from Coverity security testing as pull request comment, Supported values: true or false"
    },
    {
      "name": "bridge_blackduck_automation_prcomment",
      "type": "string",
      "label": "Blackduck Automation PR Comment",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Flag to enable automatic pull request comment based on Black Duck scan result. Supported values: true or false"
    }
  ],
  "execution": {
    "Node": {
      "target": "dist/index.js"
    }
  }
}
